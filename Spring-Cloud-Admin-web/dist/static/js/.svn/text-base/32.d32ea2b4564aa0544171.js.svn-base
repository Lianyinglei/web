webpackJsonp([32],{"8iXW":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container calendar-list-container"},[a("el-row",[a("el-col",[a("el-card",{staticClass:"box-card"},[a("div",[a("el-form",{ref:"form",attrs:{model:e.searchForm}},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",[a("el-form-item",[a("label",{staticClass:"search_label"},[e._v("客户名称")]),e._v(" "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入客户名称"},model:{value:e.searchForm.customerName,callback:function(t){e.$set(e.searchForm,"customerName",t)},expression:"searchForm.customerName"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",[a("label",{staticClass:"search_label"},[e._v("仪器序列号")]),e._v(" "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入仪器序列号"},model:{value:e.searchForm.serialNo,callback:function(t){e.$set(e.searchForm,"serialNo",t)},expression:"searchForm.serialNo"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",[a("label",{staticClass:"search_label"},[e._v("项目名称")]),e._v(" "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入项目名称"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",[a("label",{staticClass:"search_label"},[e._v("工程师")]),e._v(" "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入工程师名称"},model:{value:e.searchForm.engineerName,callback:function(t){e.$set(e.searchForm,"engineerName",t)},expression:"searchForm.engineerName"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",[[a("label",{staticClass:"search_label"},[e._v("维修状态")]),e._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.maintenceState,callback:function(t){e.$set(e.searchForm,"maintenceState",t)},expression:"searchForm.maintenceState"}},e._l(e.stateOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))]],2)],1)],1),e._v(" "),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-form-item",[a("label",{staticClass:"search_label",staticStyle:{width:"100px"}},[e._v("计划开始时间")]),e._v(" "),[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:"开始日期","picker-options":e.pickerBeginDateBefore,format:"yyyy-MM-dd"},model:{value:e.searchForm.startPlanTime,callback:function(t){e.$set(e.searchForm,"startPlanTime",t)},expression:"searchForm.startPlanTime"}})]],2),e._v(" "),a("el-form-item",[a("label",{staticClass:"search_label",staticStyle:{width:"100px"}},[e._v("计划结束时间")]),e._v(" "),[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:"结束日期","picker-options":e.pickerBeginDateAfter,format:"yyyy-MM-dd"},model:{value:e.searchForm.endPlanTime,callback:function(t){e.$set(e.searchForm,"endPlanTime",t)},expression:"searchForm.endPlanTime"}})]],2),e._v(" "),a("el-form-item",[a("label",{staticClass:"search_label",staticStyle:{width:"100px"}},[e._v("实际开始时间")]),e._v(" "),[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:"开始日期","picker-options":e.pickerOptions0,format:"yyyy-MM-dd"},model:{value:e.searchForm.startFinishTime,callback:function(t){e.$set(e.searchForm,"startFinishTime",t)},expression:"searchForm.startFinishTime"}})]],2),e._v(" "),a("el-form-item",[a("label",{staticClass:"search_label",staticStyle:{width:"100px"}},[e._v("实际结束时间")]),e._v(" "),[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:"结束日期","picker-options":e.pickerOptions1,format:"yyyy-MM-dd"},model:{value:e.searchForm.endFinishTime,callback:function(t){e.$set(e.searchForm,"endFinishTime",t)},expression:"searchForm.endFinishTime"}})]],2)],1),e._v(" "),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",[a("el-form-item",{staticStyle:{display:"inline-block"}},[a("div",{staticClass:"select_area"},[a("label",{staticClass:"search_label"},[e._v("地区")]),e._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"区域"},on:{change:e.chooseArea},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}},e._l(e.areaData,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}))],1)]),e._v(" "),a("el-form-item",{staticStyle:{display:"inline-block"}},[a("label",{staticClass:"search_label"},[e._v("省份")]),e._v(" "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入省份名称"},model:{value:e.searchForm.address,callback:function(t){e.$set(e.searchForm,"address",t)},expression:"searchForm.address"}})],1),e._v(" "),a("el-form-item",{staticStyle:{display:"inline-block",float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchClick}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.clearClick}},[e._v("清除")])],1)],1)],1)],1)],1)]),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("维护保养信息")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"success"}},[e._v("导出")])],1),e._v(" "),[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"Id",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"客户名称",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.customerName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"仪器序列号",width:"140",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.serialNo))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"工程师",width:"140",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.engineerName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"维护保养项目",width:"140",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作用户",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.user))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"计划执行时间",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.planTime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"实际执行时间",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.finishTime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.viewDetails(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("工程师信息")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("仪器信息")])]}}])})],1)],e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,30,40],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],2)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"详情信息",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("维修保养信息")])]),e._v(" "),a("div",{staticClass:"text item"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:6}},[a("label",[e._v("客户名称:")]),a("span",[e._v(e._s(e.maintainData.customerName))])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("label",[e._v("仪器序列号:")]),a("span",[e._v(e._s(e.maintainData.serialNo))])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("label",[e._v("项目名称:")]),a("span",[e._v(e._s(e.maintainData.name))])])],1),e._v(" "),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:6}},[a("label",[e._v("工程师:")]),a("span",[e._v(e._s(e.maintainData.engineerName))])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("label",[e._v("操作用户:")]),a("span",[e._v(e._s(e.maintainData.user))])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("label",[e._v("计划执行时间:")]),a("span",[e._v(e._s(e.maintainData.planTime))])])],1),e._v(" "),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:6}},[a("label",[e._v("实际执行时间:")]),a("span",[e._v(e._s(e.maintainData.finishTime))])]),e._v(" "),a("el-col",{attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:6}})],1)],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},MLI6:function(e,t,a){var l=a("gxBX");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("328bb698",l,!0)},d6xF:function(e,t,a){function l(e){a("MLI6")}var i=a("VU/8")(a("h8Px"),a("8iXW"),l,null,null);e.exports=i.exports},gxBX:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".search_label{width:70px;display:inline-block;font-size:14px;font-weight:400;color:#333;text-align:right}.el-card__header{padding:8px 20px!important;-webkit-box-sizing:border-box}.el-dialog{width:80%}.item span{padding-left:10px}",""])},h8Px:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8w"),i=a.n(l),s=a("ycmQ"),r=a("NYxO");t.default={name:"maintain",data:function(){var e=this;return{tableData:[],areaData:[],stateOptions:[],area:"",loading:!1,searchForm:{customerName:"",serialNo:"",name:"",engineerName:"",maintenceState:"",address:"",startPlanTime:"",endPlanTime:"",startFinishTime:"",endFinishTime:"",areaId:""},listQuery:{limit:20,page:1},total:null,maintainData:[],dialogVisible:!1,pickerBeginDateBefore:{disabledDate:function(t){var a=e.searchForm.endPlanTime;if(a)return t.getTime()>a}},pickerBeginDateAfter:{disabledDate:function(t){var a=e.searchForm.startPlanTime;if(a)return t.getTime()<a}},pickerOptions0:{disabledDate:function(t){var a=e.searchForm.endFinishTime;if(a)return t.getTime()>a}},pickerOptions1:{disabledDate:function(t){var a=e.searchForm.startFinishTime;if(a)return t.getTime()<a}}}},created:function(){this.getDataList(),this.getCityData()},computed:i()({},a.i(r.b)(["elements"])),methods:{getDataList:function(){var e=this;a.i(s.a)(this.listQuery,this.searchForm).then(function(t){e.tableData=t.data.list,e.total=t.data.total})},getCityData:function(){var e=this;a.i(s.b)().then(function(t){e.areaData=t})},handleSizeChange:function(e){this.listQuery.limit=e,this.getDataList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getDataList()},chooseArea:function(){this.searchForm.areaId=this.area},loadingData:function(){var e=this;e.loading=!0,setTimeout(function(){console.info("加载数据成功"),e.loading=!1},300)},searchClick:function(){var e=this;a.i(s.a)(this.listQuery,this.searchForm).then(function(t){e.loadingData(),e.tableData=t.data.list,e.total=t.data.total})},clearClick:function(){this.resetTemp()},viewDetails:function(e){var t=this;this.dialogVisible=!0,a.i(s.c)(e.id).then(function(e){t.maintainData=e.data})},resetTemp:function(){this.searchForm={customerName:"",serialNo:"",name:"",engineerName:"",maintenceState:"",address:"",areaId:""}}}}},ycmQ:function(e,t,a){"use strict";function l(){return a.i(r.a)({url:"/api/admin/dic/locations",method:"get"})}function i(e,t){return a.i(r.a)({url:"/api/tenant/maintence/list",method:"post",data:t,params:e})}function s(e){return a.i(r.a)({url:"/api/tenant/maintence/view/"+e,method:"get"})}t.b=l,t.a=i,t.c=s;var r=a("Vo7i")}});